@import '/src/assets/styles/index.scss';

.layout {
  display: flex;
  column-gap: 1.25rem;
  margin-inline: auto;
  padding: 1.25rem;
  width: min(100%, 1440px);
}

.side-menu {
  display: flex;
  position: relative;
  flex-shrink: 0;
  flex-flow: column;

  box-shadow: 0px 4px 20px 0px rgba(7, 6, 18, 0.25);
  border-radius: 0.75rem;
  background: $gray-900;

  width: 14rem;
  height: calc(100vh - 2.5rem);
  overflow-y: auto;
  transition: width 0.3s ease;

  @include mobile() {
    display: none;
  }

  &.collapsed {
    width: 4.5rem;
    
    .side-menu__header {
      justify-content: center;
      padding: 1rem 0.75rem;
    }
    
    .side-menu__nav {
      padding-inline: 0.5rem;
    }
    
    .side-menu__nav-link {
      justify-content: center;
      padding: 0.75rem 0.5rem;
    }
    
    .side-menu__change-role {
      justify-content: center;
      padding: 0.75rem 0.5rem;
      margin: auto 0.5rem 2.25rem 0.5rem;
      width: calc(100% - 1rem);
    }
  }

  &__header {
    display: flex;
    position: sticky;
    top: 0;

    column-gap: 1.25rem;
    align-items: center;
    z-index: 20;
    background: $gray-900;

    padding: 1rem 2rem;
  }

  &__button {
    display: grid;
    place-items: center;
    border: 1px solid $gray-100;
    border-radius: 0.375rem;
    padding: 0.5rem;
    cursor: pointer;
    transition: all 0.2s ease;

    &:hover {
      background: $gray-800;
      border-color: $primary-600;
    }

    svg {
      width: 1rem;
      height: 1rem;
      color: $gray-100;
      transition: transform 0.2s ease;
    }
  }

  &__logo {
    display: flex;
    align-items: center;

    svg {
      width: 5rem;
      height: 0.75rem;

      color: $gray-100;
    }
  }

  &__nav {
    display: flex;
    row-gap: 0.625rem;
    flex-flow: column;
    align-items: center;

    margin-top: 0.5rem;
    padding-inline: 1rem;

    &-link {
      display: inline-flex;
      column-gap: 0.625rem;
      align-items: center;
      opacity: 0.6;
      cursor: pointer;
      border: none;
      background: none;
      text-decoration: none;
      font-family: inherit;

      transition: 200ms ease;

      padding: 0.75rem 1rem;
      width: 100%;

      &.active {
        opacity: 1;

        border-radius: 0.25rem;
        background: $primary-700;
      }

      &--expandable {
        justify-content: space-between;
      }

      &--sub {
        margin-left: 1.5rem;
        opacity: 0.8;
        
        &.active {
          opacity: 1;
          background: $primary-600;
        }
      }

      svg,
      img {
        width: 1rem;
        height: 1rem;
        flex-shrink: 0;
      }

      svg {
        color: $gray-100;
      }

      span {
        @include textMedium12;
        color: $gray-100;
        white-space: nowrap;
      }
    }
  }

  &__section {
    width: 100%;
  }

  &__submenu {
    display: flex;
    flex-direction: column;
    row-gap: 0.25rem;
    margin-top: 0.25rem;
    animation: slideDown 0.2s ease;
  }

  &__chevron {
    width: 0.75rem !important;
    height: 0.75rem !important;
    transition: transform 0.2s ease;
    margin-left: auto;
    
    &.expanded {
      transform: rotate(180deg);
    }
  }

  &__change-role {
    display: flex;
    column-gap: 0.75rem;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    margin: auto 1rem 2.25rem 1rem;
    outline: none;
    border: 1px solid $primary-600;
    border-radius: 0.75rem;
    background: inherit;
    padding: 0.75rem 1.5rem;

    width: calc(100% - 2rem);
    font-family: inherit;

    svg {
      width: 1.125rem;
      height: 1.125rem;

      color: $gray-100;
    }

    span {
      color: $gray-100;
      font-family: inherit;
      @include textMedium14;
    }
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.wrapper {
  display: flex;
  row-gap: 1.25rem;
  flex-flow: column;
  width: 100%;
  height: calc(100vh - 2.5rem);
}

// .header {
//   display: flex;
//   justify-content: space-between;
//   align-items: center;
//   box-shadow: 0px 4px 20px 0px rgba(7, 6, 18, 0.25);
//   border-radius: 0.75rem;
//   background: $gray-900;

//   padding: 0.75rem 1rem;

//   &__search-field {
//     @include mobile() {
//       display: none;
//     }
//   }

//   &__right {
//     display: flex;
//     column-gap: 0.875rem;
//     align-items: center;

//     @include mobile() {
//       column-gap: 0.25rem;
//     }
//   }

//   &__lang {
//     @include mobile() {
//       display: none;
//     }
//   }

//   &__theme-switch {
//     @include mobile() {
//       display: none;
//     }
//   }

//   &__notification {
//     position: relative;
//     cursor: pointer;
//     outline: none;
//     border: none;

//     // Reset
//     background: none;

//     padding: 0.5rem;
//     width: 2.5rem;
//     height: 2.5rem;

//     @include mobile() {
//       width: 2.25rem;
//       height: 2.25rem;
//     }

//     &-active {
//       display: grid;
//       position: absolute;
//       top: 0.5rem;
//       right: 0.5rem;
//       place-items: center;

//       border-radius: 100px;
//       background: $gray-900;

//       width: 0.75rem;
//       height: 0.75rem;

//       @include mobile() {
//         right: 0.375rem;

//         width: 0.5rem;
//         height: 0.5rem;
//       }

//       span {
//         display: inline-block;
//         border-radius: 100px;
//         background: $notification_red;

//         width: 0.5rem;
//         height: 0.5rem;
//       }
//     }

//     svg {
//       flex-shrink: 0;
//       width: 1.5rem;
//       height: 1.5rem;

//       color: $gray-100;
//     }
//   }

//   &__profile {
//     cursor: pointer;

//     // Reset
//     outline: none;
//     border: none;

//     border-radius: 100px;
//     background: $gray-800;
//     padding: 0.625rem;

//     width: 2.5rem;
//     height: 2.5rem;

//     @include mobile() {
//       padding: 0.5rem;

//       width: 2.25rem;
//       height: 2.25rem;
//     }

//     svg {
//       flex-shrink: 0;
//       width: 1.25rem;
//       height: 1.25rem;

//       color: $gray-100;
//     }
//   }
// }

.header {
  display: flex;
  column-gap: 0.5rem;
  justify-content: space-between;

  box-shadow: 0px 4px 20px 0px rgba(7, 6, 18, 0.25);
  border-radius: 0.75rem;
  background: $gray-900;

  padding: 0.75rem 1rem;
  width: 100%;

  &__left {
    display: flex;
    column-gap: 0.75rem;
    align-items: center;
  }

  &__menu-button {
    display: none;

    flex-shrink: 0;
    place-items: center;

    cursor: pointer;

    border-radius: 0.25rem;
    background: $gray-800;

    width: 2.25rem;
    height: 2.25rem;

    @include mobile {
      display: grid;
    }

    svg {
      width: 1.125rem;
      height: 1rem;

      color: $gray-100;
    }
  }

  &__theme-switch {
    &.desktop {
      display: block;

      @include mobile {
        display: none;
      }
    }

    &.mobile {
      display: none;

      @include mobile {
        display: block;
      }
    }
  }

  &__search {
    width: 16.25rem;

    @include mobile() {
      display: none !important;
    }
  }

  // Logo
  &__logo {
    display: none;
    place-items: center;

    @include mobile {
      display: grid;
    }

    svg {
      width: min(5.125rem, 100%);
      height: 0.875rem;

      color: $gray-100;
    }
  }

  &__right {
    display: flex;
    column-gap: 0.875rem;
    align-items: center;

    @include mobile {
      column-gap: 0.75rem;
    }
  }

  &__notification {
    display: grid;
    position: relative;
    place-items: center;

    width: 2.5rem;
    height: 2.5rem;

    @include mobile {
      width: 1.5rem;
      height: 1.5rem;
    }

    &::before {
      position: absolute;
      top: 0.75rem;
      right: 0.75rem;

      border-radius: 100px;
      background: $notification_red;

      width: 0.5rem;
      height: 0.5rem;
      content: ' ';

      @include mobile {
        top: 0.25rem;
        right: 0.25rem;
      }
    }

    svg {
      flex-shrink: 0;
      width: 1.5rem;
      height: 1.5rem;

      color: $gray-100;
    }
  }

  &__user-profile {
    display: grid;
    flex-shrink: 0;
    place-items: center;

    border-radius: 1000px;

    background: $gray-800;

    width: 2.5rem;
    height: 2.5rem;

    @include mobile {
      width: 2.25rem;
      height: 2.25rem;
    }

    svg {
      flex-shrink: 0;
      width: 1.25rem;
      height: 1.25rem;

      color: $gray-100;
    }
  }
}
